package shuwei.leetcode.cn.mst.unknown;

import org.junit.Assert;
import org.junit.Test;

import java.util.ArrayList;
import java.util.HashSet;
import java.util.List;
import java.util.Set;

public class SolutionTest {

    @Test
    public void test() {
        Solution s = new Solution();
        Assert.assertEquals(30, s.minimalSteps(new String[]{"#....M....", "M..#...M..", "..OMO#SO.M", ".OOMOT.#OM"}));
        long start = System.currentTimeMillis();
        System.out.println(s.minimalSteps(new String[]{"...#............#.....#.#.#...###...................#....#.........#...##........#..................","...O......##..............#......#.........#...........#...#....#.........#.........................","..#.#.........#....#........##..............#...................#........O.#...#.........#....#.....",".....#......#..#.#..#........##...........#.....#..................#........#....#..#...............",".#........................#...#...#..#..................................#........#.....#............",".........##......#........##.......#....................#..........O...........#.#.#......#........#","......#....#.......#.......#..#..................#.#............#............#..............#.......","............#..#......#.........#........#......#......#....#.............................#.........","#.#.##....................#...................................#...............#..#..#............#..","..................................................##.#........#...#..................#......#O.....#","#.............M................#..#.......................##.....#..........#..............#.#......","O....#.....#............#...##..........#.......#......#...................#........#...............","O.........................#.#....#..#............................#..........#.......#..........#....",".....O.........#.#..........#..........#.................#........##............#....#.......#......","#......#....#..............#....#............#............#.#.#....#................................","............##..#.....................#.......##..#.#.#........................................#....","...........#.......#...#..#............##..#.........#..#..#..#.........#..#.....#...........##.....","........#......#..#.#...O.....#....#....#............#..........#......#.....................#......","..#.....#..........#....##.#.....................#.#............##...#........##..........#O...#....","........#....#.#..........#..#..................................#..#....#...#.....#.....#.........#.",".#.........#.....................#..#.....#............#.....#.#.........#.......................#..",".....#............................#......##....#....................................#.#........#..#.",".#....#.#.........#............#.......................#.......................#.........#......#...",".......#..........#......................#..#..........#......O.......#..#....#...........O.........",".#O........M....#.##......O.....#......#.#..#...........#..#...#..#..............................#..","....................O...M..........#..........#...#.........#.............#...........#.#...........","#...#.#.....#........#......#.....#...........#...............#.##.....................#..#.........",".....#................#...................##.......#..#.............##...#..#.......................",".....##..........................##............#.............#..........#.#..................#......",".#.....................##.#......#.#.#..........#.#....#................#........#......#...#...#..#",".........#..........#.........O..............#.....M.................#.....#....#...................","...........#......#......##..........#....#.....#..........M...........#....#....##.......#.........","##...................................................#.....#.......##.#.............................","..........#........##..........#..................#......M.#.#.#.........#..........................","....#..#..M#.....M.....#..........M...........#.#............................#......................","..#......#..........#......#..#...##..................#..#...#...................#.......#...#..###.","..................#..#.#.................T..................#.............#..................#......","........#.#...#............#.................#...##.#......#..............#.........................","....#.............#.##.#.........#..##......#.#.#..................................................#","..#.......#.............#.#....#.#.......................#.....#..........#................#........","....#.......................#....#.............#....#....#..........##........#..............#......","#..................#.....O................#....#.#......#.........#......#......................#...","..........#...........#.......O.......##...........#.....................#.........................#","..#................................#.............................#.........#...........#............","..........#.....#.......#..................#............#.........#...#.........O.....#.............","#...#.............#....#........#......#..#........#..........#.............................#.#.....",".......#..........#........O#....#...#.........#...........................................#........",".....##.....#...#..#..#...#....................#......#..#......#...##......O.........#....##.......","................#.....#.........#.............................O.......#............................#",".........#.#.................#.....#....#.........#....#............................................","...#.#...........................#.......#......#............#.#......................###.....O..#..","...................#.#.#......#.......#...............................#......#....#....#............","#.#......#....#........#.#..#.#..........##...##.................#..........#.....................#.",".#....#.......................................#.....#..........#.....M#..........#.....#............","........#.....................#.#............#...............#.#..O.......#...................#.....","....#............................#.......#....#.................................................#...","..................#.#.......#..........#.....#.......#..............#...............#...............",".........................##.........#......#...............#.O..................##............#.....","..##......#..#........#.....................#....#......#.................#...........##.......#....","#..#..#............###..#...............#....#........#..........#..#...........#...............#O..","#..............................#...............#.#....#..#..#..#......#.......#.##............#.....","#.......S.......##.....#...........................###.#...........................#.#............#.",".................................#...........#...........#..........#.....#..#.#...#............#...","...........#....##.....#.............#..#...................................##....................#.","M.#....................#.#...O...............................M......O..................#....#.......","....M#.####........#......................................................#........#................","......#.#..................#................................................##....#.................","...#.............................................###..#...#........................#..#.......#.#...","........#.............O#..#.#....................#..#..#..........#....#.....#......#...#.......#...",".#..##..................#........#..........#........#....#.........##O...............#.....#.......","#.....#.#.#........#.......##....................#..........#.............#...#...#....##........#.#","................#.........#...........#.....#.......##....#..............#..........................","......O........#................##......#.#..................#.........#.............##.............",".#....#.#.........#...#...............#...........##.....#...........#..........M....#............#.","..............#...............O.......#......................#....................#...O..#..........","................#...#.#...#....................#.......#...#..............O.........................",".#................................##.............#...#.#.....#.#................#..#...#............",".....#..............#...............#...............................................................",".......................#....................##..#................#......................#..#.....#..",".........#..#....................#.............#..#......................#.......#..................","#..#........#....................................#.....#..............#..........#......#.#.......#.",".#......................#.....#......#........#....#...#......O#....#.........#....##...............","...........................#.....#...#.........#..#......#.....M......#....#...#............##...O##",".......................#...##............#.........#..............#....#....#..#...#.....#.#........",".#....#.......................#.....#O...#.............................#............#...............","...#.#..............#....M..............#.#.......#...#...#...#..........#........................##",".....#................#.#........#......#....................#.....#................................","....O.....#..................#.#..O...#.........#.......#.#..............#.....#.............#....#.",".......#..#.#..##......#...................#...............#.#.......#.........#....#......#..#....#",".....#.............#...#.......#.#.#........##.....#.#.....#....#......#.#...#................#.....","...............#..........#.#.##...................#.......................#.......##.....#..#.#....",".................#......#............................#...#...##........................#............","#........#........#..........#...#........#.#..#..............#...#.#.....#.#.#.#...................",".........#.#.......###.......#..........#.......#..........................................#........",".#..................#.....#......##.#...........#..........#.....#..................#............#.#","..................................................#.........#..#.#.....##....#...........#..........","......#...........#......#.......#...#.....................#.#............##................#....#..",".#..........................#........#........#.......#........#...#...........###...........#......","#...#...#.......#...................................##........O.........#.....#......#...#..........","#.......#.....#.#....#...#................O...................#..................#.......##........."}));
        System.out.println(System.currentTimeMillis() - start);
        Assert.assertEquals(60, s.minimalSteps(new String[]{"......", "M....M", ".M#...", "....M.", "##.TM.", "...O..", ".S##O.", "M#..M.", "#....."}));
        Assert.assertEquals(16, s.minimalSteps(new String[]{"S#O", "M..", "M.T"}));
        Assert.assertEquals(-1, s.minimalSteps(new String[]{"S#O", "M.#", "M.T"}));
        Assert.assertEquals(17, s.minimalSteps(new String[]{"S#O", "M.T", "M.."}));
        Assert.assertEquals(95, s.minimalSteps(new String[]{"MMMMM", "MS#MM", "MM#TO"}));
        Assert.assertEquals(5, s.minimalSteps(new String[]{"...O.", ".S#M.", "..#T.", "....."}));
        Assert.assertEquals(-1, s.minimalSteps(new String[]{"..#..", ".S#..", "..#T#"}));
        Assert.assertEquals(-1, s.minimalSteps(new String[]{".#....M#.M", "#.O...#O#O", ".##..##..#", "...#O#.M.#", "..S#..OO..", "#..T#M.###", ".O.....#.#", "...O..##..", ".....O.#.M", "...#......"}));
        Assert.assertEquals(1416, s.minimalSteps(new String[]{"#...#...#.#...#.##...#......##........#...#.#.#......##......#.#......#.#..", "#.#...#....#.............#.##..#......#........##..#....#...........#......", "..#.......#.##.##..#...#..#...#.#...............#....#..#..##......#.#..#..", ".......#.#........#.....###..#........#...#..##.......#.....#.#............", ".##....#...#....#...##....................#..#.##...##..#.#.#.......#....#.", ".#.#.....#........#...............#....##..#......#...##.#..#...##..#.#.##.", ".#......#.##..#.#..#..........#.........#......####.....#.#.....####...#...", ".......#..........#.##.#..#..................#...#......#.#...#..#.#..##.#.", "..#....#..##.....#.##..........#.......#.......#..............#.##..#.##..#", "......#........##..#.#..#...#.#..##.........#..###.....#.#...#...#..#.####.", ".#...#.........##........###...#..#....#.....#....#....##......##....#...##", "..........#.#........................#...##....#.#.#.............##.#.#..#.", "....#..#.........#.......#..#.......#.##........####....##..##...#..#......", "..##.....#..#....#.........#...###.#.##.#..#.........#..#...##.#........#..", ".#...#...##.#.......................#..#.....#...................#..##...#.", "..........#............#...##............##....#..#.....#....#..#..........", "#....#.#...##..###......T.#.#...##.....#...#.......#.##......#...#..#..#.#.", "......#...............##........##.#.......#.......#.....#.#..#.........##.", ".#...##.....#......#.##.....#......#.#.......#...#...............##.##.....", "#..........#.#.###...#...#......#..##......#....#.......###..M.#.....##....", ".................#....###..#....#.##.#...##......##..................#.....", "................#...#.....#...#..#..#.#....#............#.#..#.......#...#.", "....#..#..........#...#######....#...#...#.....#####..#....#..#..#......#..", "...#.......#.....#....#......#..##..#.............#..#......##...##...#..#.", "........##..#.#.....#...#.....M#...#..#.#..##..##...#...#....#..........#.#", ".#....##...#.#.#.#..#..#.#.#..#...#.#.....#.......#......#..###..#..#.##...", "..#....#.##.......##.....###...#.####.......#......#..#...#.#....#....#.##.", "...#..#..#.....##.......#...........#.....#.#..#...#.#....##...#.##....#...", ".....#...#.#..#..#..#.......#..##...#.....#M.#.......#.....#.#......#.....#", "...#........#.....#...#....#..#..#.#.....##.#...##..........##......#.#..##", "..........#.##.#..###...#..###..##.....#.##....#....#...#..#..#..#...#...#.", "......##........###..#.#.#......#.........#.......#...#...#................", ".#.#......#........##...#................#.##.........####..#..##..#.#.#...", ".##.##.#.........#.....##.#.#......#..##.#..###......##.#..##.#.######...#.", "##.#...#...##.#.#..#......#...............#..................#......#.##..#", ".......#.#.##.#.#.##..#.#..#.##...#...........#...#....#..##.....#....#.#..", "#.............#......#.##....#...#.#..#.............###...............#....", "...##...#..#.........#.#.##.##..##..###.###..#....#........#..##....##.##..", ".#..#.#..#.#....####......#...#............................#.....#....##...", "......#..#...#...#.............#...#.........###........#..#..M....#.......", "..#.##..........#.......##.#......##..#.....#.....#...##......##..........#", "#...#.#.#.....##.#.....#....#...........##........#....#....#..##...#..#.#.", "...##....#...#...........##.#......##.....#.......##..#..........#.........", "..............#.....#..##..#.....#....##.....#.#.............#..###....#.#.", "...##...#....##.#.....#....#...##..#..#.#........##..##.......#...#..###...", "#....#.....#................#.....#.......##................###............", "....##.#....#...............#.......#......#...#...###............##..#.#..", ".###.###...#..#..#.#.............#..#..#.#..........#.....#....#.#.....#...", "#.....##.#......###.#..........#..#.........#...................#....###...", "#.###....##..#...#.#....M.......#.#..........#.........#....#####...#......", ".##.#...............##...#..........#...#..#..........#..##...#.#.#.....#..", ".#......#..#......##........#...#......#.#..#.#.....##.##.#..#....#.##...#.", "...#.#..##.........##.#........#.........#.##..####..##..#..#...#...##...#.", ".#.....#.............##....#..#...#...##..##..##.....##.....#.......#......", "##.#......#...##.........#.###...........#...#.#.......#...#.#..#..##...#..", ".................##.#....#.#..##..................#.##....###......#.......", "..#.#...#......#..###...#.#............#..........#.##..#..#.....#...#.....", ".##....##............#...#.....#.##.....#.#..#.#..##.##......#..........##.", "#.#.......###..####..##..##............##..#...#.#..................#.###.#", "....##.........#.#..#........#..#..##.#......###...#........#.....##..#....", "#...#...#...#.....#.#..#...#.##..................#.##...#.#..#.......#.....", "....#.##.#.###.......#..........#..###.....#....#.#.#.#......#.#..##.#.....", ".#..............##..#.#.........#.#....#S..#.....#.##....#.##...........#..", "..##......#..#.....#.#.#...#.#.....#.#..#####..###...##...#.....#...#.....#", "........#.##..#.##....#......#.##.#......#....#..#.......#.#.....#........#", "......#.....#...##....###.#...#..#..#.......#..#.#....##.#.....#..#.....#..", "..........#.#...#............#....##..###.......#........#..............#..", "..##...#..##.......##......................#.....#.##..#.#...#.....###.#...", "##............##.....#............#.#.....#..##...##..#...#........##......", "#....#....#.........M......#..#..#..#......#......###........#.#........#..", ".#.#..##...#.#...#.#....#.#....#......#.#..#........#............####......", "....#....#....#.#...#....#..#.#....M.....#...........#...#...##.#......#...", "......##...#....#....#..#.#.##.......#....##.#....#..#..#.#...###..##.##...", ".#......#..#.....#.........#....#.............#........##..##....#.....#.#.", ".#.##.##..#..##.##.#....#...#...........#.....#..##................#.##....", "#..#..###......##.##..##.##...............#.........#....##..#...#.#.#....#", "....#.#...##.#.#.......#.#...#....##..............#..##.......##..#..#.....", "...#.#.........##......#.....#..#.##..###..#..#.#........#......##..#.....#", "#.#.....##.##.......#.#.....#......#..##....#....#..#...........#.#..#.....", "...........##...#...#..#....#..##.....#..#...#.##..............#..##.....#.", "......M#.#.#.......##.##....#.#.#........#.##....#........#...###.......#..", "..........###........#......##...#.#...........#....#.##...#.#...#....#....", ".##.....#.......#...#.....#.....#..........#..#....##............#..#..#...", "...........#...#.#.#.#...#.#....#......#........#.#..#...#....#.#..........", ".##...#..#.###..#.........##....#..............#........#.#..#.##M.........", "###....#..#####..#..#..#...#.....#.#......#####.#.........##.#..#....#.#...", "...#..#.......#........#............##.#.#...#.#...#....###..#.............", "..#.#.#....#...#..#..#.#...#......#...###..#..#...#..##..##....#.......#...", "...#......#..##..#..#............###..........#........#...##..##..#....#..", "###........#..##.....#..##......##..#..#.......#..#.....................O..", "........###.#...#......#.......#....#.....#..#..#....##.##..##....#....#.#.", "##..##..##.....##......#....#.#....##.......##.#........##.#..#....####...#", "#..##....#.....##.#.....#.............#...##.#...#...#..#........#.##......", ".##.#.##...........#...........#.......#.##......##..#.......###..#..##...#", "..#........#....##.....#..#......##...##...#.#.#.#......#....#.#..#.....#..", "..#...##.....#.#.#..................#..#.....#..........#..#.M..#........#.", "..#.....##..#.........##...........##....#........#..M...#........#.#......", ".##.##.....#......................#..#.#...#.........#.....#...###....#.#..", "#.##.....#.....#........#.......##..###.........#.#....#.....#..#..##......", "......#.............##......######...#..#.##...#.##.##.....#.#..#.#.#...##."}));
    }

}